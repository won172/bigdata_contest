# 외부 데이터 기반 상권 분석 전략

## 1. 주소 정규화 및 좌표화
- **지오코딩 서비스 활용**: 카카오/네이버 지도 API, 행안부 주소 변환 서비스 등을 이용해 가맹점 주소를 위·경도로 변환하고 행정구역 코드(법정동, 행정동)를 확보합니다.
- **위치 검증 로직**: 지오코딩 신뢰도 점수/반환 상태코드를 저장하고, 불확실한 경우 수동 검수 목록을 분리합니다.
- **좌표 클러스터링**: 동일 건물·상가에 위치한 가맹점을 식별하기 위해 DBSCAN 등 공간 군집을 적용하고, 상권 단위(예: 반경 300m) 집계를 위한 기본 단위를 마련합니다.

## 2. 상권 경계 및 유동 인구 보강
- **공공데이터 결합**: 서울시 상권정보, 소상공인시장진흥공단 상권데이터에서 제공하는 상권코드·유동인구·매출 지표를 주소 기반으로 매칭합니다.
- **행정경계 활용**: 법정동/상권 경계 폴리곤을 확보해 가맹점 좌표를 공간 조인하고, 상권별 가맹점 수·매출 지표를 비교합니다.
- **모바일 인구 데이터**: 통신사 유동인구(유료)를 연동해 시간대별·요일별 유입 패턴을 분석하고, 상권 잠재 수요 추정을 고도화합니다.

## 3. 리뷰 데이터 수집 및 전처리
- **크롤링 대상 선정**: 네이버 플레이스, 카카오맵, 구글맵 등 주요 리뷰 플랫폼에서 가맹점명을 기준으로 검색·수집 전략을 세웁니다.
- **ID 매칭 전략**: 주소+상호명 fuzzy matching, 좌표 반경 탐색 등을 이용해 리뷰 페이지와 가맹점 데이터를 연결합니다.
- **리뷰 전처리**: 텍스트 정제, 감성분석(한글 형태소 분석기 예: KoNLPy, Kiwi), 키워드 추출, 별점·방문일자 파싱을 통해 고객 반응 지표를 생성합니다.
- **API/크롤링 윤리 준수**: Robots.txt 확인, 호출 간격 제한, 이용약관 준수 등을 준수하고, 플랫폼 API가 제공되면 정식 인증을 활용합니다.

## 4. 외부 데이터 기반 지표 설계
- **상권 매력도 지수**: 리뷰 수·평균 별점·최근 리뷰 비중과 유동인구·경쟁강도 지수를 혼합한 종합 점수를 설계합니다.
- **고객 체감 문제 추적**: 부정 리뷰 키워드를 주기적으로 집계해 상권·업종별 개선 포인트를 도출합니다.
- **경쟁 환경 확대**: 동일 건물/거리 내 타 플랫폼 리뷰 데이터를 수집해, 실제 고객 체감 경쟁도를 측정합니다.
- **리뷰-매출 상관 검증**: 리뷰 지표와 카드 매출/재방문율 간 상관 관계를 분석해 외부 데이터의 설득력을 검증합니다.

## 5. 데이터 파이프라인과 거버넌스
- **ETL 자동화**: 정기(주간/월간) 크롤링 스케줄과 지오코딩 데이터 갱신 파이프라인을 구축해 최신 상권 지표를 유지합니다.
- **품질 점검**: 매 배치마다 주소 미매칭·좌표 실패·리뷰 누락 비율을 모니터링하고, 기준을 초과하면 경고를 발생시킵니다.
- **보안·정책 준수**: 개인정보 비식별화(리뷰 닉네임/개인정보 제거), 저작권 정책 확인 등 준법 감사를 병행합니다.
- **문서화**: 데이터 출처, 수집 주기, 전처리 규칙을 문서화해 재현성과 협업 효율을 높입니다.

## 6. 분석 활용 시나리오
- **상권별 리포트**: 지도 시각화(Kepler.gl, Folium 등)를 활용해 상권별 가맹점 밀도, 리뷰 감성, 유동인구를 한 화면에 제공합니다.
- **위기 조기경보 고도화**: 외부 리뷰의 부정 흐름과 승인 취소/재방문 지표를 결합해 이상 패턴을 빠르게 감지합니다.
- **입지 전략 지원**: 신규 가맹점 개설 시 후보 위치의 리뷰 경쟁력, 유동 인구, 현재 상권 매출 순위를 종합 제공합니다.
